<!DOCTYPE html>
<html>
    <head>
        <script src='zepto.min.js' type='text/javascript'></script>
        <script src='robotWeb.js' type='text/javascript'></script>

        <link rel='stylesheet' type='text/css' href='robotWeb.css'>
    </head>

    <body>

        <center>Remote Control Mode - <a href="followLine.html">Line Following Mode</a> - <a href="followGreen.html">Follow Green Mode</a> - <a href="aiMode.html">AI Mode</a></center>

        <noscript>
            <p>Javascript must be enabled for proper functionality.</p>
        </noscript>
        
        <div>
            <h3>Robot control</h3>
            <div>
                <div id='error'>
                    <p id='error-msg' class='error'></p>
                    <button id='reconnect'></button>
                    <br />
                </div>

                <div id='robot-control'>
                    <label for='speedControl'>Speed:</label>
                    <br />
                    <input type='range' id='speedControl' name='speedControl' min='0' max='3' value='0' />
                    <br />
                    <label>Direction:</label>
                    
                    <table>          
                        <tr>
                            <td class='box'></td>
                            <td class='box direction-box'>
                                <img id='up' src='img/up_off.png' class='direction'/>
                            </td>
                            <td class='box'></td>
                        </tr>
                        <tr>
                            <td class='box direction-box'>
                                <img id='left' src='img/left_off.png' class='direction'/>
                            </td>
                            <td class='box direction-box'>
                                <img id='stop' src='img/stop_on.png' class='direction'/>
                            </td>
                            <td class='box direction-box'>
                                <img id='right' src='img/right_off.png' class='direction'/>
                            </td>
                        </tr>
                        <tr>
                            <td class='box'></td>
                            <td class='box direction-box'>
                                <img id='down' src='img/down_off.png' class='direction'/>
                            </td>
                            <td class='box'></td>
                        </tr>
                    </table>
                </div>
                <div id='robot-feed'>
                    <img src="http://arduino2.local:8080/?action=stream" width="320" height="240" />
                </div>

                <p id='instructions'>Keyboard Control also available. Use arrow keys or WASD for direction. Use 'X' or '&lt;' to slow down and 'C' or '&gt;' to speed up. Keyboard control may not work on some international keyboards.</p>
            </div>
        </div>   

        <hr />

        <div id='debug'>
            <h3>Debug: Web status</h3>
            <p id='msg'>Debug messages will appear here.</p>
            <a href='log.txt'>View log</a>
            <br />
            <button id='clear-log'>Clear log</button>
            <hr />

            <h3>Debug: Robot status</h3>
            <label for='status'>Status (direction:speed): </label><span id='status'>Unknown</span>
            <br />
            <label for='speed'>Current speed: </label><span id='speed'>STOP</span>
            <br />
            <label for='direction'>Current direction: </label><span id='direction'>STOP</span>
            <br />
            <label for='sid'>Session ID: </label><span id='sid'></span>
            <br />
            <button id='force-update'>Force update</button>
            <hr />
        </div>

    </body>   
</html>
